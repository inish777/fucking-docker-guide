## Краткая суть про HFS (Hierarchical File System)
Самое время начать: https://docs.altlinux.org/ru-RU/archive/3.0/html-single/compact/install/linux_filesystem.kirill/index.html

Резюме: если в винде ходим на C: и D:, то в никсах дерево начиная с / на одном разделе, а другой монтируется куда угодно ниже / и берет на себя то, что в пути находится за его точкой монтирования

На самом деле: схем монтирования куда больше и иметь дело с отдельными устройствами вообще не обязательно

## Bind mounts
Тут вступают в действие бинд маунты, например. У меня есть один раздел и там все дерево. Но я хочу, чтобы в /hui/pizda/dzhigurda можно было бы сходить через /hui/rizhiy
Бинд-маунты позволяют. Тут показывают https://www.baeldung.com/linux/bind-mounts

## Начало изоляции через FS - chroot
У наших дедов возникала проблема изоляции процессов на уровне файловой системы - им надо было дать процессу директорию, сказать, что это / и чтобы процесс даже не помышлял пойти выше. В рамках борьбы они изобрели https://ru.m.wikipedia.org/wiki/Chroot

Все нужное монтировалось через bind mount

Однако это лишь механизм контроля на уровне фс. В той же статье описано, что с рутовыми привилегиями процесс мог съебаться

## Появление namespaces
В результате в ядре появился более базированный механизм в виде неймспейсов нескольких видов - со времен дедов файлы перестали быть единственной занозой в жопе https://ru.m.wikipedia.org/wiki/Пространство_имён_(Linux)

Так мы и добрались до одной из трех технологий, составляющих понятие контейнер. Это если считать те, которые докер (ставшие стандартом OCI) и к которым привыкли. Но докер не был первым.  Вот его батя - https://ru.m.wikipedia.org/wiki/LXC

## Появление cgroups
Кроме неймспейсов LXC использовал вторую основополагающую технологию - https://ru.m.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%B0_(Linux)

Мало изолировать доступные файлы, пользователей и деревья процессов - остается проблема с распределением времени процессора, оперативки, сетевого канала и хранилища - изоляция, где все могут захватить все ресурсы, так себе изоляция

## Overlayfs сотоварищи - вместе с cgroups и namespaces = контейнер
LXC по сути используются как эрзац виртуалки - ты делаешь себе отдельные линухи с общим с хостом ядром и дальше работаешь почти как с обычными виртуалками - только помнишь, что изоляция очень тонка. Сейчас так не принято и в докере стандарт это 1 контейнер - 1 сервис. Собственно, докер пришел к этому стандарту, создав удобный тулсет и заюзав всякие слоеные и copy-on-write файловые системы. Их много, докер по дефолту использует https://wiki.archlinux.org/title/Overlay_filesystem_(Русский) Это и есть третья основополагающая технология из тех, что образуют понятие "контейнер"

По какой причине сейчас докер используют чаще LXC? Удобный тулсет и использование overlayfs сотоварищи, сделавшее рентабельным посервисную изоляцию. Для микросервисов и тех, кто их использует, это подарок судьбы.






