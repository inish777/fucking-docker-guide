## Проблематика в сравнении с localhost

В статье про маунты была затронута тема неймспейсов - [[Маунты#Появление namespaces]]
Здесь проблемы доставляет именно сетевой - у контейнера отдельный сетевой неймспейс и, соответственно, привычный адрес localhost, он же 127.0.0.1 внутри контейнера - это его локальный сетевой интерфейс, а не хост. Соответственно, запустить на хосте постгрес и коннектиться к нему через 127.0.0.1 не выйдет.

## Если коротко - что делать, когда хочется коннекта на хост из контейнера? 

Вне зависимости от платформы - коннектиться на адрес основного сетевого интерфейса хоста. Пример из выполнения ifconfig на макоси
```
en0: flags=8863<UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST> mtu 1500
options=6463<RXCSUM,TXCSUM,TSO4,TSO6,CHANNEL_IO,PARTIAL_CSUM,ZEROINVERT_CSUM>
ether f8:4d:89:86:41:51 
inet 192.168.88.254 netmask 0xffffff00 broadcast 192.168.88.255
media: autoselect
```

192.168.88.254 - адрес хоста в локальной сети в моем случае, он стабилен, что задано в настройках роутера, так что к нему можно коннектиться из контейнера

## Почему коннект на хост работает так?

Хост действует как default gateway для контейнера - все пакеты, для которых нет отдельных маршрутов, отправляются на хост. А с учетом того, что мы отправляем их на адрес сетевого интерфейса хоста - они на этом сетевом интерфейсе и остаются, чтобы быть обработанными, например, бд на хосте, к которой мы коннектимся.